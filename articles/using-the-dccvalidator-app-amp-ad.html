<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Using the dccvalidator app in AMP-AD • dccvalidator</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Using the dccvalidator app in AMP-AD">
<meta property="og:description" content="dccvalidator">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dccvalidator</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0.9025</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/customizing-dccvalidator.html">Customizing dccvalidator</a>
    </li>
    <li>
      <a href="../articles/deploying-dccvalidator.html">Deploying dccvalidator</a>
    </li>
    <li>
      <a href="../articles/study-documentation-amp-ad.html">AMP-AD Study Documentation</a>
    </li>
    <li>
      <a href="../articles/study-documentation-pec.html">PEC Study Documentation</a>
    </li>
    <li>
      <a href="../articles/using-the-dccvalidator-app-amp-ad.html">Using the dccvalidator app in AMP-AD</a>
    </li>
    <li>
      <a href="../articles/using-the-dccvalidator-pec.html">Using the dccvalidator app in PsychENCODE</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Sage-Bionetworks/dccvalidator/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="using-the-dccvalidator-app-amp-ad_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Using the dccvalidator app in AMP-AD</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Sage-Bionetworks/dccvalidator/blob/master/vignettes/using-the-dccvalidator-app-amp-ad.Rmd"><code>vignettes/using-the-dccvalidator-app-amp-ad.Rmd</code></a></small>
      <div class="hidden name"><code>using-the-dccvalidator-app-amp-ad.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>As the AMP-AD Knowledge Portal has grown to 50+ studies and over 70,000 data files, we’ve realized a need to be more standardized in our approaches to data curation. Thus, we built an application that performs many of the routine data quality checks we previously conducted by hand, with the hopes that it will help you, the data contributor, get your data checked, validated, and shared more easily and quickly.</p>
<p>The dccvalidator tool checks your metadata for, among other things:</p>
<ul>
<li>The correct structure (are all of the columns there?)</li>
<li>The values in the cells are correct if the column uses controlled values (for example, TRUE is used instead of Yes or Y)</li>
<li>If both individuals and biospecimen templates are used, each biospecimen is linked to an individual</li>
</ul>
</div>
<div id="requirements" class="section level1">
<h1 class="hasAnchor">
<a href="#requirements" class="anchor"></a>Requirements</h1>
<p>To use this application you must:</p>
<ol style="list-style-type: decimal">
<li>Be logged in to Synapse in your browser</li>
<li>Be a <a href="https://docs.synapse.org/articles/accounts_certified_users_and_profile_validation.html" target="_blank">Synapse certified user</a>
</li>
<li>Be a member of the AMP-AD consortium team</li>
</ol>
<p>Some portions of the app submit data to Synapse. This allows curators at Sage to troubleshoot issues if needed; no one outside the Sage curation team will be able to download the data.</p>
</div>
<div id="instructions" class="section level1">
<h1 class="hasAnchor">
<a href="#instructions" class="anchor"></a>Instructions</h1>
<p>This topic has a general overview of the data contribution process and detailed instructions for each step, including uploading documentation, metadata requirements, validating and reviewing the metadata, and uploading the dataset.</p>
<div id="general-process-overview" class="section level2">
<h2 class="hasAnchor">
<a href="#general-process-overview" class="anchor"></a>General Process Overview</h2>
<ol style="list-style-type: decimal">
<li>Contact the <a href="mailto:AMPAD_SageAdmin@synapse.org" target="_blank">AD Data Liaison</a> to discuss the study and the expected data. Receive staging folder synIDs for each expected dataset.</li>
<li>Using the templates located at the bottom of the <a href="https://www.synapse.org/#!Synapse:syn24986618" target="_blank">Onboarding page</a>, create a study description, methods description(s), and acknowledgement statement.</li>
<li>Upload the <a href="https://www.synapse.org/#!Synapse:syn25014531" target="_blank">study description</a>, <a href="https://www.synapse.org/#!Synapse:syn25018065" target="_blank">methods description</a> and <a href="https://www.synapse.org/#!Synapse:syn25014532" target="_blank">acknowledgement statement</a> using the <a href="https://www.synapse.org/#!Synapse:syn25051271" target="_blank">Submission Form</a>. Instructions on writing this documentation is located on our <a href="https://www.synapse.org/#!Synapse:syn24986618" target="_blank">Data Contributor Information</a> page.</li>
<li>Validate metadata + manifest files in <a href="https://shinypro.synapse.org/users/kwoo/dccvalidator-app/" target="_blank">dccvalidator</a>.</li>
<li>Contact the <a href="mailto:AMPAD_SageAdmin@synapse.org" target="_blank">AD Data Liaison</a> when all files pass validation. The team will verify items not checked by the dccvalidator. Receive permissions to upload data to the staging folder.</li>
<li>Use the validated manifest to upload the data with <code>syncToSynapse</code> (see <a href="https://docs.synapse.org/articles/uploading_in_bulk.html#validate-the-manifest-and-upload-files">Synapse documentation</a> for uploading data in bulk){target="_blank"}.</li>
<li>Contact the <a href="mailto:AMPAD_SageAdmin@synapse.org" target="_blank">AD Data Liaison</a>. The AD Curation team will do the final verifications before releasing the data.</li>
</ol>
</div>
<div id="documentation-upload" class="section level2">
<h2 class="hasAnchor">
<a href="#documentation-upload" class="anchor"></a>Documentation Upload</h2>
<p>Each study in AMP-AD has the accompanying <a href="https://adknowledgeportal.synapse.org/#/Explore/Studies?Study=syn8391648" target="_blank">documentation in the portal</a>:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Study Description:</strong> use template located <a href="https://www.synapse.org/#!Synapse:syn25014531" target="_blank">here</a> to write your study description</li>
<li>
<strong>Methods Description(s):</strong> use template located <a href="https://www.synapse.org/#!Synapse:syn25018065" target="_blank">here</a> to write a methods description for <strong>each</strong> of your assay types</li>
<li>
<strong>Acknowledgement statement:</strong> use template located <a href="https://www.synapse.org/#!Synapse:syn25014532" target="_blank">here</a> to write an acknowledgement statement for the use of those that cite your data You can submit your documentation through the <a href="https://www.synapse.org/#!Synapse:syn25051271" target="_blank">Submission Form</a> located on our <a href="https://www.synapse.org/#!Synapse:syn24986618" target="_blank">Onboarding Documentation</a>
</li>
</ol>
</div>
<div id="data-validation" class="section level2">
<h2 class="hasAnchor">
<a href="#data-validation" class="anchor"></a>Data Validation</h2>
<div id="metadata-requirements" class="section level3">
<h3 class="hasAnchor">
<a href="#metadata-requirements" class="anchor"></a>Metadata Requirements</h3>
<p>Each study should include metadata that would help a new researcher understand and reuse the data. In most cases, we will expect 4 files:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Individual metadata</strong> a csv file describing each individual in the study.</li>
<li>
<strong>Biospecimen metadata</strong> a csv file describing the specimens that were collected.</li>
<li>
<strong>Assay metadata</strong> a csv file describing the assay that was performed. If multiple assays were part of the study, there will be one assay file for each.</li>
<li>A <strong>manifest</strong> listing each file that will be uploaded. You will use this file to upload your data after it has been validated and approved. The manifest should be in tsv (tab-delimited text) format.</li>
</ol>
<p>We provide templates for all of the metadata files within the portal: <a href="https://www.synapse.org/#!Synapse:syn18512044" class="uri">https://www.synapse.org/#!Synapse:syn18512044</a></p>
<p>You can download these files, fill out the first tab, and save it as a .csv or .tsv file. The other tabs exist to describe the variables and allowed values in the template. If you do not have any data for some of the columns, you can leave them blank (but do not remove the column header).</p>
<p>If you don’t see a template for the assay(s) in your study, or if not all of the metadata types above seem relevant to your study, please get in touch with us at <a href="mailto:AMPAD_SageAdmin@synapse.org" class="email">AMPAD_SageAdmin@synapse.org</a>.</p>
</div>
<div id="validating-the-metadata-and-manifest" class="section level3">
<h3 class="hasAnchor">
<a href="#validating-the-metadata-and-manifest" class="anchor"></a>Validating the Metadata and Manifest</h3>
<p>The data validation portion of the app allows you to upload metadata files (as .csv) and the manifest (as .tsv or .txt) and view the results of a series of automated checks.</p>
<p>Examples of the types of checks we perform are:</p>
<ul>
<li>All required columns from the templates are present</li>
<li>Individuals and specimens have unique identifiers</li>
<li>Metadata terms conform to a controlled vocabulary where applicable</li>
</ul>
</div>
<div id="viewing-data-summary" class="section level3">
<h3 class="hasAnchor">
<a href="#viewing-data-summary" class="anchor"></a>Viewing Data Summary</h3>
<p>We also provide a summary of the files you have uploaded, showing the number of individuals, specimens, and files. We visualize the data in each column by its data type to help spot unexpected missing values.</p>
</div>
</div>
<div id="uploading-data" class="section level2">
<h2 class="hasAnchor">
<a href="#uploading-data" class="anchor"></a>Uploading Data</h2>
<p>Once data has passed validation, and the AMP-AD data curators permit edit permissions to the staging folder for your study, you will use your newly created manifest file to upload your data and metadata using <code>syncToSynapse</code>. You can execute <code>syncToSynapse</code> in the <a href="https://python-docs.synapse.org/build/html/synapseutils.html#synapseutils.sync.syncToSynapse" target="_blank">Python client</a> or <a href="https://github.com/Sage-Bionetworks/synapserutils#upload-data-in-bulk" target="_blank">R client</a>. For uploads with more than 100 files or large file sizes, the Python client or command line client will upload substantially faster than the R client. For getting started with the Synapse programmatic clients, please visit our <a href="https://docs.synapse.org/articles/api_documentation.html" target="_blank">Synapse docs</a>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Kara Woo, Nicole Kauer, Kelsey Montgomery.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
