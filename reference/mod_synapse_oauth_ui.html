<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Synapse Oauth Module — mod_synapse_oauth_ui • dccvalidator</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Synapse Oauth Module — mod_synapse_oauth_ui" />
<meta property="og:description" content="Create the Synapse OAuth component of a Shiny app.
If this is
the first time signing in, will need to do OAuth the process. The OAuth
process will redirect back here and an authorization code
should be in the URL parameters. If this code is available, lauch the main
app_ui. This function should be called from startup
called from the UI function specified when creating the application object
(i.e. the function specified in the ui parameter here
shinyApp(ui = app_ui, server = app_server)), which receives the request
object and can pass it along.
IMPORTANT: this module assumes the following
global variables are available and valid: app, api, authorization_url,
app_url, claims_params, scope. See setup_global_oauth_vars." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dccvalidator</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0.9025</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/customizing-dccvalidator.html">Customizing dccvalidator</a>
    </li>
    <li>
      <a href="../articles/deploying-dccvalidator.html">Deploying dccvalidator</a>
    </li>
    <li>
      <a href="../articles/study-documentation-amp-ad.html">AMP-AD Study Documentation</a>
    </li>
    <li>
      <a href="../articles/study-documentation-pec.html">PEC Study Documentation</a>
    </li>
    <li>
      <a href="../articles/using-the-dccvalidator-app-amp-ad.html">Using the dccvalidator app in AMP-AD</a>
    </li>
    <li>
      <a href="../articles/using-the-dccvalidator-pec.html">Using the dccvalidator app in PsychENCODE</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/Sage-Bionetworks/dccvalidator/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Synapse Oauth Module</h1>
    <small class="dont-index">Source: <a href='https://github.com/Sage-Bionetworks/dccvalidator/blob/master/R/mod-synapse-oauth.R'><code>R/mod-synapse-oauth.R</code></a></small>
    <div class="hidden name"><code>mod_synapse_oauth_ui.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Create the Synapse OAuth component of a Shiny app.</p>
<p>If this is
the first time signing in, will need to do OAuth the process. The OAuth
process will redirect back here and an authorization code
should be in the URL parameters. If this code is available, lauch the main
app_ui. This function should be called from startup
called from the UI function specified when creating the application object
(i.e. the function specified in the <code>ui</code> parameter here
<code><a href='https://rdrr.io/pkg/shiny/man/shinyApp.html'>shinyApp(ui = app_ui, server = app_server)</a></code>), which receives the <code>request</code>
object and can pass it along.</p>
<p>IMPORTANT: this module assumes the following
global variables are available and valid: app, api, authorization_url,
app_url, claims_params, scope. See <code><a href='setup_global_oauth_vars.html'>setup_global_oauth_vars</a></code>.</p>
    </div>

    <pre class="usage"><span class='fu'>mod_synapse_oauth_ui</span><span class='op'>(</span><span class='va'>id</span>, <span class='va'>request</span>, main_ui <span class='op'>=</span> <span class='va'>mod_main_ui</span>, main_ui_id <span class='op'>=</span> <span class='st'>"main"</span><span class='op'>)</span>

<span class='fu'>mod_synapse_oauth_server</span><span class='op'>(</span><span class='va'>id</span>, <span class='va'>syn</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>id</th>
      <td><p>The module id.</p></td>
    </tr>
    <tr>
      <th>request</th>
      <td><p>Shiny request object.</p></td>
    </tr>
    <tr>
      <th>main_ui</th>
      <td><p>UI function to redirect to when OAuth is done. Defaults to
<code><a href='mod_main_ui.html'>mod_main_ui</a></code>.</p></td>
    </tr>
    <tr>
      <th>main_ui_id</th>
      <td><p>The module id to use when launching <code>main_ui</code>. Defaults
to "main".</p></td>
    </tr>
    <tr>
      <th>syn</th>
      <td><p>Synapse client object</p></td>
    </tr>
    </table>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='st'><a href='https://sage-bionetworks.github.io/dccvalidator'>"dccvalidator"</a></span><span class='op'>)</span>
<span class='va'>app_ui</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>request</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'>mod_synapse_oauth_ui</span><span class='op'>(</span>id <span class='op'>=</span> <span class='st'>"oauth"</span>, request <span class='op'>=</span> <span class='va'>request</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='va'>app_server</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>input</span>, <span class='va'>output</span>, <span class='va'>session</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>synapse</span> <span class='op'>&lt;-</span> <span class='fu'>reticulate</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/reticulate/man/import.html'>import</a></span><span class='op'>(</span><span class='st'>"synapseclient"</span><span class='op'>)</span>
  <span class='va'>syn</span> <span class='op'>&lt;-</span> <span class='va'>synapse</span><span class='op'>$</span><span class='fu'>Synapse</span><span class='op'>(</span><span class='op'>)</span>
  <span class='va'>syn</span> <span class='op'>&lt;-</span> <span class='fu'>mod_synapse_oauth_server</span><span class='op'>(</span>
    id <span class='op'>=</span> <span class='st'>"oauth"</span>,
    syn <span class='op'>=</span> <span class='va'>syn</span>
  <span class='op'>)</span>
  <span class='fu'>shiny</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/shiny/man/req.html'>req</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/class.html'>inherits</a></span><span class='op'>(</span><span class='va'>syn</span>, <span class='st'>"synapseclient.client.Synapse"</span><span class='op'>)</span>, <span class='fu'><a href='logged_in.html'>logged_in</a></span><span class='op'>(</span><span class='va'>syn</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='fu'><a href='run_app.html'>run_app</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Kara Woo, Nicole Kauer, Kelsey Montgomery.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


