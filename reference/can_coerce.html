<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Check coercibility — can_coerce • dccvalidator</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Check coercibility — can_coerce" />
<meta property="og:description" content="Checks if values are coercible to a given class. Because of inconsistencies
in R's built-in coercion functions (e.g. as.numeric() warns when it
introduces NAs but as.logical() doesn't; as.integer() will silently
remove decimal places from numeric inputs) we check only for the specific
coercions we want to allow, primarily allowing numeric, integer, or logical
values to be considered valid even when the required type is character." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dccvalidator</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0.9025</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/customizing-dccvalidator.html">Customizing dccvalidator</a>
    </li>
    <li>
      <a href="../articles/deploying-dccvalidator.html">Deploying dccvalidator</a>
    </li>
    <li>
      <a href="../articles/study-documentation-amp-ad.html">AMP-AD Study Documentation</a>
    </li>
    <li>
      <a href="../articles/study-documentation-pec.html">PEC Study Documentation</a>
    </li>
    <li>
      <a href="../articles/using-the-dccvalidator-app-amp-ad.html">Using the dccvalidator app in AMP-AD</a>
    </li>
    <li>
      <a href="../articles/using-the-dccvalidator-pec.html">Using the dccvalidator app in PsychENCODE</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/Sage-Bionetworks/dccvalidator/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Check coercibility</h1>
    <small class="dont-index">Source: <a href='https://github.com/Sage-Bionetworks/dccvalidator/blob/master/R/check-annotation-values.R'><code>R/check-annotation-values.R</code></a></small>
    <div class="hidden name"><code>can_coerce.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Checks if values are coercible to a given class. Because of inconsistencies
in R's built-in coercion functions (e.g. <code><a href='https://rdrr.io/r/base/numeric.html'>as.numeric()</a></code> warns when it
introduces NAs but <code><a href='https://rdrr.io/r/base/logical.html'>as.logical()</a></code> doesn't; <code><a href='https://rdrr.io/r/base/integer.html'>as.integer()</a></code> will silently
remove decimal places from numeric inputs) we check only for the specific
coercions we want to allow, primarily allowing numeric, integer, or logical
values to be considered valid even when the required type is character.</p>
    </div>

    <pre class="usage"><span class='fu'>can_coerce</span><span class='op'>(</span><span class='va'>values</span>, <span class='va'>class</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>values</th>
      <td><p>Vector of values to check</p></td>
    </tr>
    <tr>
      <th>class</th>
      <td><p>Class of interest</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Boolean value; TRUE if <code>values</code> are coercible to <code>class</code>, <code>FALSE</code>
otherwise.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function is mainly in place so that we can automatically allow numeric
read lengths, pH values, etc., which are defined as strings in our annotation
vocabulary but can reasonably be numbers.</p>
<p>Additionally, this function will return <code>TRUE</code> if the values are integers and
the desired class is numeric, and will return <code>TRUE</code> if the values are
numeric but are whole numbers. <code>2.0</code> is considered coercible to integer, but
<code>2.1</code> is not.</p>
<p>It will also allow the following capitalizations of boolean values: true,
True, TRUE, false, False, FALSE. These are all treated as valid booleans by
Synapse.</p>
<p>This function will <em>not</em> affect validation of enumerated values, regardless
of their class. It is only used when validating annotations that have a
required type but no enumerated values.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='check_annotation_values.html'>check_annotation_values()</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Not run because function is not exported</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'># Coercible:</span>
<span class='fu'>can_coerce</span><span class='op'>(</span><span class='fl'>1</span>, <span class='st'>"character"</span><span class='op'>)</span>
<span class='fu'>can_coerce</span><span class='op'>(</span><span class='cn'>TRUE</span>, <span class='st'>"character"</span><span class='op'>)</span>
<span class='fu'>can_coerce</span><span class='op'>(</span><span class='fl'>1L</span>, <span class='st'>"character"</span><span class='op'>)</span>
<span class='fu'>can_coerce</span><span class='op'>(</span><span class='fl'>1L</span>, <span class='st'>"numeric"</span><span class='op'>)</span>
<span class='fu'>can_coerce</span><span class='op'>(</span><span class='fl'>1.0</span>, <span class='st'>"integer"</span><span class='op'>)</span>

<span class='co'># Not coercible:</span>
<span class='fu'>can_coerce</span><span class='op'>(</span><span class='st'>"foo"</span>, <span class='st'>"numeric"</span><span class='op'>)</span>
<span class='fu'>can_coerce</span><span class='op'>(</span><span class='st'>"foo"</span>, <span class='st'>"logical"</span><span class='op'>)</span>
<span class='fu'>can_coerce</span><span class='op'>(</span><span class='fl'>2.5</span>, <span class='st'>"integer"</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Kara Woo, Nicole Kauer, Kelsey Montgomery.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


